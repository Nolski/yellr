//- template for Collections overview
//- ===================================
//- used on: collections.html
script#collections-gi-template(type="text/x-handlebars-template").
  {{#if collections}}
    {{#each collections}}
    <div class="collections-gi">
        <h3 class="title"><a href="{{url}}">{{name}}</a></h3>
        <div class="flex">
          <a href="{{url}}" class="view flex-1">View</a>
          <p class="created flex-1">{{collection_datetime}}</p>
        </div>
      </div>
    </div>
    {{/each}}
  {{else}}
    <div class="collections-gi faded">
        <h3 class="title">No collections! Create one by clicking the button above or creating a new assignment!</h3>
      </div>
    </div>
  {{/if}}



//- template for viewing a single collection
//- ===================================
//- used on: view-collection.html
script#view-collection-gi-template(type="text/x-handlebars-template").
  <div class="collection-gi">
    <div class="story-item">
      <div data-type="{{media_type}}" class="media-preview">
        {{#if file_name}}
        <figure class="media-file-image">
          <img src="/media/{{file_name}}" alt="{{ media_description }}">
          <figcaption>{{ media_description }}</figcaption>
        </figure>
        {{else}}
        <p class="media-text">{{ media_text }}</p>
        {{/if}}
      </div>
      <p class="item-source"><a href="#">02a6be81-954b-45fa-a2df-8794f3db6d5b</a></p>
    </div>
    <div class="story-meta flex">
      <div class="flex-2">&nbsp;</div>
      <ul class="options-list flex-1">
        <li><i title="Leave feedback" class="fa fa-comment"></i></li>
        <li><i title="Remove from collection" class="fa fa-close"></i></li>
      </ul>
    </div>
  </div>



//- template used while writing article
//- where we have the collection on the side
//- ===================================
//- used on: editor.html
script#collections-li-template(type="text/x-handlebars-template").
  {{#if posts}}
    {{#each posts}}
    <li>
      {{#each media_objects }}
      <div class="media-preview" data-type="{{ media_type }}">
        {{#if file_name}}
        <figure class="media-file-image">
          <img src="/media/{{file_name}}" alt="{{ media_description }}">
          <figcaption>{{ media_description }}</figcaption>
        </figure>
        {{else}}
        <p class="media-text">{{ media_text }}</p>
        {{/if}}

        {{#if caption}}
        <p>{{ caption }}</p>
        {{/if}}
      </div>
      {{/each }}
      <div class="assignment-collection-actions"><span class="remove-btn"><i class="fa fa-close">&nbsp;Remove</i></span></div>
      <div data-post-id="{{post_id}}" data-source="anonymous" data-uid="{{ client_id }}" class="meta-div"></div>
    </li>
    {{/each}}
  {{else}}
    <li class="faded">
      <h3 class="t2">Collection is empty</h3>
      <p>Drag a Response from the left over here, or click the&nbsp;<span class="fa fa-plus"></span>&nbsp;icon</p>
    </li>
  {{/if}}



//- template for creating a new collection
//- ===================================
//- used on: collection.html
script#collections-form-template(type="text/x-handlebars-template").
  <div class="overlay-container">
    <h3 class="t2">New Collection</h3>
    <form id="new-collections-form" class="form">
      <input type="text" name="name" placeholder="Collections name">
      <textarea name="description" rows="2" placeholder="Collection description (optional)"></textarea>
      <input type="text" name="tags" placeholder="Collection tags (use commas to add multiple tags)">
      <label class="submit-label">
        <input type="submit" hidden>
        <span class="submit-btn">Create</span>
      </label>
    </form>
  </div>



//- template for creating the collections dropdown
//- which allows users to add items to collection
//- from the raw feed
//- ===================================
//- used on: index.html
script#collections-dropdown-template(type="text/x-handlebars-template").
  <ul class="collections-dropdown">
    {{#each collections}}
    <li>
      <p data-collection-id="{{collection_id}}">{{name}}</p>
    </li>
    {{/each}}
  </ul>
