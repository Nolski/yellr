doctype html
head
  include ../../common/html/_head/meta.jade

  title Yellr - Moderator backend
  meta(name="description", content="Yellr backend moderation - Citizen engagement and journalism app")

  include ../../common/html/_head/favicon.jade
  include ../../common/html/_head/head-scripts.jade
  link(rel="stylesheet", href="style/style.css")


body#moderator(data-page="editor")
  a(href="#main", class="assistive-text") Skip to main content
  div.container

    //-div#main
    div#main.flex
      div.flex-1#left
        include _sidebar.jade

      div.flex-4#right
        section#editor-wrapper.right-wrapper
          h2.t1 Editor
          p Title
          input(type="text", name="title", placeholder="Article title...")
          p Content
          p
            small Markdown is used
          textarea#markdown-editor(oninput="this.editor.update()", rows="15", name="content", placeholder="Enter text here")
          div#preview
          label
            span.submit-btn Publish
            input(type="submit", hidden)

  include _footer.jade
  script(src="js/libs/markdown.js")
  script.
    function Editor(input, preview) {
      this.update = function () {
        preview.innerHTML = markdown.toHTML(input.value);
      };
      input.editor = this;
      this.update();
    }
    new Editor(document.getElementById("markdown-editor"), document.getElementById("preview"));
</html>
